name: CICD

on: push

jobs: 
    Continous-Intergration: 
                   runs-on: ubuntu-latest
                   steps:
                      - name: Checkout Code
                        uses: actions/checkout@v3

                      - name: Setup Python
                        uses: actions/setup-python@v4
                        with:
                          python-version: "3.12"
                      
                      - name: Install Dependecies
                        run: |
                            python -m pip install --upgrade pip
                            pip install -r requirements.txt
                            pip install dvc
                      
                      - name: DVC Authentication with DagsHub
                        env: 
                          DAGSHUB_TOKEN: ${{ secrets.DAGSHUB_TOKEN }}
                        run: |
                          dvc repro


